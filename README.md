# Demo Project: Spring Boot with Vite Frontend

This project is a multi-module Gradle-based Spring Boot application that combines a REST API backend with a frontend built using Vite. The goal is to build a single output JAR file that includes both the backend and the static frontend files.

## Project Structure

The project consists of two main sub-projects:

1. **`api`**: A Spring Boot application for serving the REST API.
2. **`frontend`**: A frontend application built using Vite, which is compiled and included as static content in the Spring Boot JAR.

The root project is set up with Gradle, and the build process integrates both the API and frontend into a single JAR file.

## Prerequisites

- **Java 17+**: Required to run the Spring Boot application.
- **Node.js 20+**: Required for building the frontend with Vite.
- **Gradle 7+**: Build tool used for the entire project.

## Setup

### Clone the Repository

```bash
git clone https://github.com/lokeshkumargupta/Spring-Boot-with-Vite-Frontend.git
cd demo-project
```

### Install Dependencies
#### Frontend
Navigate to the frontend directory and install the necessary dependencies using npm or yarn:

```bash
cd frontend
npm install
```
This will install all dependencies for the frontend application.

#### API
No separate dependencies are needed for the API beyond those defined in the build.gradle file.

## Build the Project
To build the entire project, including both the backend and frontend, run the following Gradle command from the root project directory:
```bash
./gradlew build
```
This will:
- Build the frontend assets using Vite.
- Package the frontend's dist directory into the static folder of the Spring Boot application.
- Build the api Spring Boot application into a single executable JAR file with the frontend included. 

The output JAR file will be located in the build/libs/ directory.

## Run the Application
Once the build is successful,  you can run the application directly from the generated JAR file:
```bash
java -jar build/libs/my-application-1.0.0.jar
```
By default, the Spring Boot application will be available at http://localhost:8080.

## Accessing the Frontend
The frontend will be served as static content from the Spring Boot application. Once the application is running, you can access the frontend by navigating to:

```url
http://localhost:8080
```
This will load the index.html generated by Vite and served as static content by Spring Boot.

## Change JAR Name and Version
You can modify the JAR name and version by changing the values in the ext block in the root build.gradle file:
```gradle
ext {
    jarName = 'my-application' // Set the desired JAR name
    version = '1.0.0'  // Set the desired version
}
```

## Directory Structure
The project directory structure is as follows:
```bash
demo-project/
│
├── api/                  # Spring Boot API
│   ├── build.gradle      # Gradle configuration for the API
│   └── src/              # Source code for the backend
│
├── frontend/             # Vite frontend
│   ├── build.gradle      # Gradle configuration for the frontend
│   ├── package.json      # npm package configuration for frontend
│   └── src/              # Source code for the frontend
│
├── build/                # Build output directory (root)
│   └── libs/             # JAR file output
│
├── build.gradle          # Root Gradle configuration
└── settings.gradle       # Gradle settings for the multi-project setup
```

## Output Files
After running the build, the output JAR file will be located in:
```dir
build/libs/my-application-1.0.0.jar
```
